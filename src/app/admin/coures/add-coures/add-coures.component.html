<app-admin></app-admin>

<div class="mx-auto bg-grey-400 min-h-screen" style="background-color: rgb(41, 44, 49); margin-top: -230px;">
    <div class="flex flex-1">
        <main class="bg-white-300 ml-72 flex-1 p-3 overflow-hidden" style="padding-left: 3px;">
            <div 
                class="flex-1 flex flex-col items-start justify-end pt-64 px-[69.2px] pb-8 box-border gap-[20px] max-w-full bg-white  lg:pl-[34px] lg:pt-[166px] lg:pr-[34px] lg:box-border mq750:pt-[108px] mq750:box-border">
                <strong class="font-bold text-3xl mt-[-147px] mb-14">Add Course</strong>
                <form [formGroup]="courseForm" (ngSubmit)="onSubmit()"
                    class="w-full bg-white rounded-lg p-8 relative z-10 custom-shadow">
                    <div class="flex flex-col items-center mb-6">
                        <div class="w-24 h-24 mb-4">
                            <div class="rounded-full bg-gray-200 flex items-center justify-center w-full h-full">
                                <label for="fileInput" *ngIf="!previewUrl">
                                    <i class="fa-solid fa-camera text-6xl text-gray-600 cursor-pointer"></i>
                                </label>
                                <input id="fileInput" type="file" (change)="onFileSelected($event)" accept="image/*"
                                    hidden>
                                <img *ngIf="previewUrl && !loading" [src]="previewUrl" alt="Image Preview"
                                    class="w-24 h-24 rounded-full object-cover">

                                <div *ngIf="loading">
                                    <mat-progress-spinner color="primary" diameter="50"
                                        mode="indeterminate"></mat-progress-spinner>
                                </div>
                            </div>
                        </div>
                        <p class="text-blue-600">Add image</p>
                    </div>
                    <div class="mb-4">
                        <mat-form-field class="w-full">
                            <mat-label>Topic Name</mat-label>
                            <input matInput formControlName="topicName" placeholder="Enter the topic name">
                        </mat-form-field>
                        <p class="text-red-500">{{errMessage}}</p>
                    </div>
                    <div class="mb-4">
                        <mat-form-field class="w-full">
                            <mat-label>Description</mat-label>
                            <textarea class="min-h-[300px]" matInput formControlName="description" rows="5"
                                placeholder="Enter the course description"></textarea>
                        </mat-form-field>
                    </div>
                    <div class="flex justify-end">
                        <button mat-flat-button color="primary"
                            class="rounded-full py-2 px-6 bg-blue-500 text-white shadow-md hover:bg-blue-600 transition-colors duration-300"
                            [disabled]="!courseForm.valid">Save</button>
                    </div>
                </form>
            </div>
            
            
        </main>
    </div>
</div>