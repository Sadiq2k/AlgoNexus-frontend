<app-admin></app-admin>
<div class="mx-auto bg-gray-900 min-h-screen" style="margin-top: -231px;">
    <div class="mx-auto bg-gray-800 min-h-screen h-full">
        <div class="flex justify-center">
            <main class="bg-white ml-12 md:ml-16 lg:ml-24 xl:ml-72 mt-2 min-h-screen h-full shadow-lg rounded-lg" style="width: 85%;">

            <div class="flex flex-col">
                <h1><strong class="pl-3 text-black" style="letter-spacing: 2px;">All Users</strong></h1>

                <div class="flex flex-1 flex-col md:flex-row lg:flex-row mx-2">

                    <table class="min-w-full bg-red-900 shadow-md rounded overflow-hidden space-y-4 md:space-y-6">
                        <thead class="text-white ">
                            <tr>
                                <th class="py-3 px-5 text-left">No</th>
                                <th class="py-3 px-5 text-left">First Name</th>
                                <th class="py-3 px-5 text-left">Last Name</th>
                                <th class="py-3 px-5 text-left">Email</th>
                                <th class="py-3 px-5 text-left">Action</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let user of users?.content  let i = index ">
                            <tr class="border-b hover:bg-slate-400block dark:bg-gray-700 mb-2 text-sm font-medium text-gray-900 dark:text-white"
                                *ngIf="user.role=='USER'">
                                <td class="py-3 px-5">{{ i+1 }}</td>

                                <td class="py-3 px-5">{{ user.firstname }}</td>
                                <td class="py-3 px-5">{{ user.lastname }}</td>
                                <td class="py-3 px-5">{{ user.email }}</td>
                                <td class="py-3 px-5">
                                    <i class="fa-solid fa-user cursor-pointer" *ngIf="user.block==false"
                                        (click)="blockUser(user.id)" style="padding-right: 10px;">block</i>
                                    <i class="fa-solid fa-user-lock cursor-pointer text-red-500"
                                        *ngIf="user.block ==true" (click)="unBlockUser(user.id)">unBlock</i>
                                </td>
                            </tr>
                            
                    </table>
                    
                </div>
                <div class="mt-4 flex justify-center gap-5 w-[100%]">
                    <button (click)="previousPage()" [disabled]="page === 0" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">
                        <i class="fa-solid fa-circle-chevron-left text-blue-600"></i>
                        Newer
                    </button>
                    <div>
                        <button *ngFor="let p of [].constructor(totalPages); let i = index"
                            (click)="goToPage(i)"
                            [ngClass]="{'bg-blue-500 text-white': page === i, 'bg-gray-300': page !== i}"
                            class="px-4 py-2 rounded mx-1">
                            {{ i + 1 }}
                        </button>
                    </div>
                    <button (click)="nextPage()" [disabled]="page === totalPages - 1" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">
                        Older
                        <i class="fa-solid fa-circle-chevron-right text-blue-600"></i>
                    </button>
                </div>
            </div>
        </main>
      </div>
    </div>
</div>